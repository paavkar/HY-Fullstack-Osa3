(this.webpackJsonppuhelinluettelo=this.webpackJsonppuhelinluettelo||[]).push([[0],{38:function(e,n,t){},39:function(e,n,t){"use strict";t.r(n);var s=t(0),c=t(1),a=t(14),o=t.n(a),r=t(3),i=function(e){var n=e.name,t=e.number,c=e.deletePerson;return Object(s.jsxs)("p",{children:[n," ",t,Object(s.jsx)("button",{onClick:c,children:"delete"})]})},u=t(4),b=t.n(u),l="/api/persons",j=function(){return b.a.get(l).then((function(e){return e.data}))},d=function(e){return b.a.post(l,e).then((function(e){return e.data}))},m=function(e){return b.a.delete("".concat(l,"/").concat(e)).then((function(e){return e.data}))},h=function(e){var n=e.persons,t=e.setPersons,a=e.setNotificationMessage,o=Object(c.useState)(""),u=Object(r.a)(o,2),b=u[0],l=u[1],j=Object(c.useState)(),d=Object(r.a)(j,2),h=d[0],f=(d[1],h?n:n.filter((function(e){return e.name.toLowerCase().includes(b.toLowerCase())||e.number.includes(b)})));return Object(s.jsxs)("div",{children:["filter shown with: ",Object(s.jsx)("input",{type:"text",placeholder:"Search",value:b,onChange:function(e){l(e.target.value)}}),f.map((function(e){return Object(s.jsx)(i,{deletePerson:function(){return s=e.id,c=e.name,window.confirm("Delete ".concat(c," ?")),void m(s).then((function(e){a("Removed '".concat(c,"'")),setTimeout((function(){a(null)}),3e3),t(n)}));var s,c},name:e.name,number:e.number},e.name)}))]})},f=function(e){return Object(s.jsxs)("form",{onSubmit:function(n,t){n.preventDefault();var s={name:e.newName,number:e.newNumber,id:e.persons.length+1};e.persons.find((function(n){return n.name===e.newName}))?(window.alert("".concat(e.newName," is already added to phonebook")),e.setNewName(""),e.setNewNumber("")):d(s).then((function(n){e.setPersons(e.persons.concat(s)),e.setNewName(""),e.setNewNumber(""),e.setNotificationMessage("Added '".concat(s.name,"'")),setTimeout((function(){e.setNotificationMessage(null)}),3e3)}))},children:[Object(s.jsxs)("div",{children:["name: ",Object(s.jsx)("input",{value:e.newName,onChange:e.handlePersonChange})]}),Object(s.jsxs)("div",{children:["number: ",Object(s.jsx)("input",{value:e.newNumber,onChange:e.handleNumberChange})]}),Object(s.jsx)("div",{children:Object(s.jsx)("button",{type:"submit",children:"add"})})]})},O=function(e){var n=e.message;return null===n?null:Object(s.jsx)("div",{className:"notification",children:n})},N=function(){var e=Object(c.useState)([]),n=Object(r.a)(e,2),t=n[0],a=n[1],o=Object(c.useState)(""),i=Object(r.a)(o,2),u=i[0],b=i[1],l=Object(c.useState)(""),d=Object(r.a)(l,2),m=d[0],N=d[1],p=Object(c.useState)(null),w=Object(r.a)(p,2),v=w[0],x=w[1];Object(c.useEffect)((function(){j().then((function(e){a(e)}))}));return Object(s.jsxs)("div",{children:[Object(s.jsx)("h2",{children:"Phonebook"}),Object(s.jsx)(O,{message:v}),Object(s.jsx)("h3",{children:"Add a new person"}),Object(s.jsx)(f,{persons:t,newName:u,newNumber:m,setPersons:a,setNewName:b,setNewNumber:N,handleNumberChange:function(e){N(e.target.value)},handlePersonChange:function(e){b(e.target.value)},notificationMessage:v,setNotificationMessage:x}),Object(s.jsx)("h3",{children:"Numbers"}),Object(s.jsx)(h,{persons:t,setPersons:a,setNotificationMessage:x})]})};t(38);o.a.render(Object(s.jsx)(N,{}),document.getElementById("root"))}},[[39,1,2]]]);
//# sourceMappingURL=main.c07e7129.chunk.js.map