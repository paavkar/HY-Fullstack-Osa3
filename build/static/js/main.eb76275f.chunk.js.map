{"version":3,"sources":["components/Person.js","services/persons.js","components/Persons.js","components/PersonForm.js","components/Notification.js","App.js","index.js"],"names":["Person","name","number","deletePerson","onClick","baseUrl","axios","get","then","response","data","newObject","post","key","delete","id","put","Persons","persons","setPersons","setNotificationMessage","useState","newFilter","setNewFilter","showAll","personsToShow","filter","person","toLowerCase","includes","type","placeholder","value","onChange","event","target","map","window","confirm","personsService","returnedPerson","setTimeout","PersonForm","props","onSubmit","preventDefault","personObject","newName","newNumber","length","find","element","setNewName","setNewNumber","concat","handlePersonChange","handleNumberChange","Notification","message","className","App","notificationMessage","useEffect","initialPersons","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.eb76275f.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst Person = ({ name, number, deletePerson }) => {\r\n\r\n  return (\r\n      <p>  \r\n        {name} {number} \r\n        <button onClick={deletePerson}>delete</button>\r\n      </p>\r\n  )\r\n}\r\n\r\nexport default Person","import axios from 'axios'\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAll = () => {\r\n  const request = axios.get(baseUrl)\r\n  return request.then(response => response.data )\r\n}\r\n\r\nconst create = newObject => {\r\n  const request = axios.post(baseUrl, newObject)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst update = (id, newObject) => {\r\n  const request = axios.put(`${baseUrl}/${id}`, newObject)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst remove = (key) => {\r\n  const request = axios.delete(`${baseUrl}/${key}`)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nexport default { getAll, create, remove, update }","import React, {  useState } from 'react'\r\nimport Person from '../components/Person'\r\nimport personsService from '../services/persons'\r\n\r\n\r\nconst Persons = ({persons, setPersons, setNotificationMessage }) => {\r\n  const [newFilter, setNewFilter] = useState(\"\")\r\n  const [showAll, setShowAll] = useState()\r\n\r\n  const handleFilterChange = (event) => {\r\n    setNewFilter(event.target.value)\r\n  }\r\n\r\n \r\n  const deletePerson = (id, name) => {\r\n    window.confirm(`Delete ${name} ?`)\r\n    personsService\r\n      .remove(id)\r\n      .then(returnedPerson => {\r\n        \r\n        \r\n        setNotificationMessage(\r\n          `Removed '${name}'`\r\n        )\r\n        setTimeout(() => {\r\n          setNotificationMessage(null)\r\n        }, 3000)\r\n        setPersons(persons)\r\n      })\r\n  }\r\n\r\n  const personsToShow = showAll\r\n    ? persons\r\n    : persons.filter(person =>(person.name.toLowerCase().includes(newFilter.toLowerCase()) || \r\n    (person.number.includes(newFilter))))\r\n\r\n  return (\r\n    <div>\r\n      filter shown with: <input \r\n        type=\"text\"\r\n        placeholder=\"Search\"\r\n        value={newFilter}\r\n        onChange={handleFilterChange}\r\n          />\r\n      {personsToShow.map(person => \r\n        <Person deletePerson={() => deletePerson(person.id, person.name)} \r\n          key={person.name} name={person.name} number={person.number}\r\n           />\r\n      )}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Persons","import React from 'react'\r\nimport personsService from '../services/persons'\r\n\r\nconst PersonForm = (props) => {\r\n\r\n  const addPerson = (event, id) => {\r\n    event.preventDefault()\r\n    \r\n    const personObject = {\r\n      name: props.newName,\r\n      number: props.newNumber,\r\n      id: props.persons.length + 1,\r\n    }\r\n    \r\n    if(props.persons.find(element => element.name === props.newName)) {\r\n      window.confirm(`${props.newName} is already added to phonebook. Would you like to change the number?`)\r\n      personsService\r\n      .update(id)\r\n      .then(returnedPerson => {\r\n        props.setNotificationMessage(\r\n          `Changed '${props.name} number'`\r\n        )\r\n        setTimeout(() => {\r\n          props.setNotificationMessage(null)\r\n        }, 3000)\r\n        props.setPersons(props.persons)\r\n      })\r\n      props.setNewName('')\r\n      props.setNewNumber('')\r\n    }\r\n    else {\r\n      personsService\r\n        .create(personObject)\r\n        .then(returnedPerson => {\r\n          props.setPersons(props.persons.concat(personObject))\r\n          props.setNewName('')\r\n          props.setNewNumber('')\r\n          \r\n          props.setNotificationMessage(\r\n            `Added '${personObject.name}'`\r\n          )\r\n          setTimeout(() => {\r\n            props.setNotificationMessage(null)\r\n          }, 3000)\r\n        })\r\n          \r\n    }\r\n  }\r\n\r\nreturn (\r\n  <form onSubmit={addPerson}>\r\n        <div>\r\n          name: <input \r\n                  value={props.newName}\r\n                  onChange={props.handlePersonChange} \r\n                />\r\n        </div>\r\n        <div>\r\n          number: <input\r\n                    value={props.newNumber}\r\n                    onChange={props.handleNumberChange} />\r\n        </div>\r\n        <div>\r\n          <button type=\"submit\">add</button>\r\n        </div>\r\n      </form>\r\n)}\r\n\r\n\r\nexport default PersonForm","import React from 'react'\r\n\r\nconst Notification = ({ message }) => {\r\n  if (message === null) {\r\n    return null\r\n  }\r\n\r\n  return (\r\n    <div className=\"notification\">\r\n      {message}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Notification","import React, { useState, useEffect } from 'react'\nimport Persons from './components/Persons'\nimport PersonForm from './components/PersonForm'\nimport Notification from './components/Notification'\nimport personsService from './services/persons'\n\nconst App = () => {\n  const [ persons, setPersons ] = useState([]) \n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber ] = useState('')\n  const [ notificationMessage, setNotificationMessage ] = useState(null)\n\n\n  useEffect(() => {\n    personsService\n      .getAll()\n      .then(initialPersons => {\n        setPersons(initialPersons)\n      })\n  })\n\n  const handlePersonChange = (event) => {\n    setNewName(event.target.value)\n  }\n\n\n  const handleNumberChange = (event) => {\n    setNewNumber(event.target.value)\n  }\n  \n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification message={notificationMessage} />\n      <h3>Add a new person</h3>\n      <PersonForm persons={persons} newName={newName} newNumber={newNumber} setPersons={setPersons}\n        setNewName={setNewName} setNewNumber={setNewNumber} handleNumberChange={handleNumberChange}\n          handlePersonChange={handlePersonChange} notificationMessage={notificationMessage}\n          setNotificationMessage={setNotificationMessage} />\n      <h3>Numbers</h3>\n        <Persons persons={persons} setPersons={setPersons} \n        setNotificationMessage={setNotificationMessage} />\n        \n    </div>\n  )\n\n}\n\nexport default App","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\nimport './index.css'\n\nReactDOM.render(<App />, document.getElementById('root'))"],"sourceRoot":""}